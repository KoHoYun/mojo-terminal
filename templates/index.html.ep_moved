<!doctype html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/term.js"></script>
    <script src="/client.js"></script>
    <style type="text/css">
        html {
            background: #555;
            font-family: "Consolas";
        }
    </style>
    <script>
        window.onload = function() {
            var charSize = getCharSize();
            var windowSize = getwindowSize();
            var size  =  {
                rows: document.body.clientHeight,
                cols: document.body.clientWidth,
            }; 

            var terminal = client.run({
                parent: document.body,
                remote: "<%= url_for('socket')->to_abs->scheme('ws') %>",
                screen: size
            });

            window.onresize = function() { 
               //var geom = getSize(element, cell);

                //terminal.term.resize(geom.cols, geom.rows);
                //terminal.socket.send(JSON.stringify({"screen":{"cols": geom.cols, "rows": geom.rows}}));
            };
            alert(size.rows); alert(size.cols);

        };
    </script>
</head>
<body style="overflow-x:hidden;overflow-y:hidden;background-color: rgb(0, 0, 0);">
</body>
</html>
